<style>
    .header {
        max-width: 100%;
    }
    .video-overlay {
        width: 1424px;
        height: 1000px;
        position: absolute;
        background-color: rgba(0, 0, 0, 0.1);
        z-index: 10;
        color: #FFFFFF;
        font-size: 36px;
    }
    .comment-item {
        width: 100%;
        position: absolute;
        font-family: LiHei Pro, "helvetica neue", helvetica, arial, "microsoft jhenghei", "Heiti TC", sans-serif;
        text-shadow: 0px 0px 10px rgba(150, 150, 150, 1);
        font-size: 30px;
        line-height: 42px;
    }
    .loc-start {
        top: 0px;
        left: 1500px;
    }
    .video-section {
        background-color: #000000;
    }
    .bot-video {
        margin-top: 32px;
    }
</style>
<div class="header">
    <img width="1424" src="https://dl.dropboxusercontent.com/u/7120885/botday/header.jpg" />
</div>
<div class="video-overlay">
    <!--<div class="comment-item">測試留言 A</div>-->
</div>
    <div class="video-section">
        <!-- sample video -->
        <!--<video class="bot-video" width="100%" height="100%" autobuffer controls autoplay>
            <source id="mp4" src="http://grochtdreis.de/fuer-jsfiddle/video/sintel_trailer-480.mp4" type="video/mp4">
        </video>-->
        <iframe width="100%" height="100%" src="https://www.youtube.com/embed/1ZpCNbc6QIQ?autoplay=1&start=2270" frameborder="0" allowfullscreen></iframe>
</div>
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script type="text/javascript">
$(document).ready(function() {
    var GET_COMMENT_API = "http://localhost:3000/bot/getcomment",
        CONST_TIME_INTERVAL = 3000;
    var STREAMING_CONF = {
        'left': ['1', '2', '3', '4', '5'],
        "fontSize": ['18', '24', '28', '32'],
        "top": ['120px', '200px', '280px', '320px', '440px', '500px', '320px'],
        "speed": ['3', '3.5', '4', '4.5', '5']
    };
    var CONST_COMMENT_START_POS = "-600px";

    /* setInterval and reach comment */
    setInterval(function(){
        $.getJSON( GET_COMMENT_API, function( data ) {
            console.log("data", data);
            // get comment
            if (data[0]['status'] === 'ok') {
                for(var i=0;i<data[1]['comment'].length;i++) {
                    var comment = data[1]['comment'][i];

                    var getTop = Math.floor((Math.random() * STREAMING_CONF.top.length));
                    var getLeft = Math.floor((Math.random() * STREAMING_CONF.left.length));
                    var getSpeed = Math.floor((Math.random() * STREAMING_CONF.speed.length));
                    var getFontSize = Math.floor((Math.random() * STREAMING_CONF.fontSize.length));

                    var comment_item = document.createElement('div');
                    $(comment_item).text(comment).addClass('comment-item').addClass("loc-start").css({
                        'top': STREAMING_CONF.top[getTop],
                        'left': (1500 + STREAMING_CONF.top[getLeft] * 20) + "px",
                    }).appendTo($(".video-overlay"));

                    $(comment_item).animate({
                        left: CONST_COMMENT_START_POS,
                    }, (getSpeed * 2000));

                }
            // no comment
            } else if (data[0]['status'] === 'empty') {
                //console.log("empty");
            }
        });
    }, CONST_TIME_INTERVAL);

});
</script>